<!-- Admin Layout -->
<div class="admin-layout" [class.sidebar-collapsed]="isSidebarCollapsed">
  <!-- Desktop Navigation Bar Only -->
  <app-navigation-bar
    *ngIf="isDesktop"
    [currentLayout]="currentLayout"
    [showLayoutSwitcher]="true"
    [navigationItems]="[]"
    [isAuthenticated]="isAuthenticated"
    [currentUser]="currentUser">
  </app-navigation-bar>

  <!-- Mobile Header -->
  <header class="mobile-header" *ngIf="!isDesktop">
    <div class="mobile-header-content">
      <div class="mobile-top-bar">
        <div class="logo-section">
          <span class="logo-icon">âš™ï¸</span>
          <span class="logo-text">Admin</span>
        </div>
        <div class="header-actions">
          <div class="layout-switcher-mobile">
            <button (click)="switchToCustomerLayout()" class="layout-btn" title="Customer View">ğŸ½ï¸</button>
            <button class="layout-btn active" title="Admin View">âš™ï¸</button>
            <button (click)="switchToDeliveryLayout()" class="layout-btn" title="Delivery View">ğŸšš</button>
          </div>
          <button class="mobile-menu-btn" (click)="toggleMobileSidebar()">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Admin Layout Container -->
  <div class="admin-layout-container">
    <!-- Sidebar -->
    <aside class="admin-sidebar" [class.mobile-open]="isMobileSidebarOpen">
    <!-- Sidebar Header -->
    <div class="sidebar-header">
      <div class="sidebar-logo">
        <span class="logo-icon">ğŸ½ï¸</span>
        <span class="logo-text" *ngIf="!isSidebarCollapsed">Admin Panel</span>
      </div>
      <button class="sidebar-toggle desktop-only" (click)="toggleSidebar()">
        <span class="toggle-icon">{{ isSidebarCollapsed ? 'â–¶ï¸' : 'â—€ï¸' }}</span>
      </button>
    </div>

    <!-- User Info -->
    <div class="sidebar-user" *ngIf="!isSidebarCollapsed">
      <div class="user-avatar">ğŸ‘¤</div>
      <div class="user-info">
        <div class="user-name">{{ currentUser?.name || 'Admin User' }}</div>
        <div class="user-role">Administrator</div>
      </div>
    </div>

    <!-- Navigation Menu -->
    <nav class="sidebar-nav">
      <ul class="nav-menu">
        <li *ngFor="let item of menuItems" class="nav-item">
          <!-- Menu Item with Children -->
          <div *ngIf="hasChildren(item)" class="nav-group">
            <button
              class="nav-link nav-group-toggle"
              (click)="toggleMenu(item.label)"
              [class.expanded]="isMenuExpanded(item.label)">
              <span class="nav-icon">{{ item.icon }}</span>
              <span class="nav-label" *ngIf="!isSidebarCollapsed">{{ item.label }}</span>
              <span class="nav-badge"
                    *ngIf="item.badge && !isSidebarCollapsed"
                    [class]="'badge-' + (item.badgeColor || 'primary')">
                {{ item.badge }}
              </span>
              <span class="nav-arrow" *ngIf="!isSidebarCollapsed">
                {{ isMenuExpanded(item.label) ? 'â–¼' : 'â–¶ï¸' }}
              </span>
            </button>

            <!-- Submenu -->
            <ul class="nav-submenu"
                [class.expanded]="isMenuExpanded(item.label)"
                *ngIf="!isSidebarCollapsed">
              <li *ngFor="let child of item.children" class="nav-subitem">
                <a [routerLink]="child.route"
                   routerLinkActive="active"
                   class="nav-sublink">
                  <span class="nav-subicon">{{ child.icon }}</span>
                  <span class="nav-sublabel">{{ child.label }}</span>
                  <span class="nav-subbadge"
                        *ngIf="child.badge"
                        [class]="'badge-' + (child.badgeColor || 'primary')">
                    {{ child.badge }}
                  </span>
                </a>
              </li>
            </ul>
          </div>

          <!-- Simple Menu Item -->
          <a *ngIf="!hasChildren(item)"
             [routerLink]="item.route"
             routerLinkActive="active"
             class="nav-link">
            <span class="nav-icon">{{ item.icon }}</span>
            <span class="nav-label" *ngIf="!isSidebarCollapsed">{{ item.label }}</span>
            <span class="nav-badge"
                  *ngIf="item.badge && !isSidebarCollapsed"
                  [class]="'badge-' + (item.badgeColor || 'primary')">
              {{ item.badge }}
            </span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- Sidebar Footer -->
    <div class="sidebar-footer">
      <button class="footer-btn" (click)="goToProfile()" *ngIf="!isSidebarCollapsed">
        <span class="footer-icon">ğŸ‘¤</span>
        <span class="footer-label">Profile</span>
      </button>
      <button class="footer-btn logout-btn" (click)="logout()">
        <span class="footer-icon">ğŸšª</span>
        <span class="footer-label" *ngIf="!isSidebarCollapsed">Logout</span>
      </button>
    </div>
  </aside>

  <!-- Mobile Sidebar Overlay -->
  <div class="sidebar-overlay mobile-only"
       [class.active]="isMobileSidebarOpen"
       (click)="toggleMobileSidebar()"></div>

  <!-- Main Content Area -->
  <div class="admin-main">
    <!-- Top Header -->
    <header class="admin-header">
      <div class="header-left">
        <button class="mobile-menu-toggle mobile-only" (click)="toggleMobileSidebar()">
          <span class="hamburger-icon">â˜°</span>
        </button>
        <h1 class="page-title">Dashboard</h1>
      </div>

      <div class="header-right">
        <!-- Quick Actions -->
        <div class="quick-actions">
          <button class="quick-action-btn" title="Notifications">
            <span class="action-icon">ğŸ””</span>
            <span class="action-badge">3</span>
          </button>
          <button class="quick-action-btn" title="Messages">
            <span class="action-icon">ğŸ’¬</span>
            <span class="action-badge">7</span>
          </button>
          <button class="quick-action-btn" title="Settings">
            <span class="action-icon">âš™ï¸</span>
          </button>
        </div>

        <!-- User Menu -->
        <div class="header-user-menu">
          <button class="user-menu-btn" (click)="goToProfile()">
            <span class="user-menu-avatar">ğŸ‘¤</span>
            <span class="user-menu-name desktop-only">{{ currentUser?.name || 'Admin' }}</span>
            <span class="user-menu-arrow desktop-only">â–¼</span>
          </button>
        </div>
      </div>
    </header>

    <!-- Content Area -->
    <main class="admin-content">
      <div class="content-wrapper">
        <router-outlet></router-outlet>
      </div>
    </main>

    <!-- Footer -->
    <footer class="admin-footer">
      <div class="footer-content">
        <div class="footer-left">
          <span>&copy; 2024 FoodieApp Admin Panel. All rights reserved.</span>
        </div>
        <div class="footer-right">
          <span>Version 1.0.0</span>
        </div>
      </div>
    </footer>
    </div>
  </div>
</div>
